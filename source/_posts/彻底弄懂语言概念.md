---
title: 彻底弄懂语言概念
tags:
---

## 编译型和解释型语言

- 编译型语言

  - 必须提前将所有源代码一次性转换成二进制指令，也就是生成一个可执行程序(windows 下的.exe)。比如 C 语言、C++、Java、汇编语言。使用的转换工具称为 编译器

- 解释型语言

  - 可一边执行一边转换，需要哪些源代码就转换哪些源代码，不会生成可执行程序。比如 Python、JavaScript、PHP。使用的转换工具称为 解释器

- 编译器
  - 类似一个“翻译工具”，类似于将中文翻译成英文、将英文翻译成俄文。翻译源代码是一个复杂的过程。大致包括词法分析、语法分析、语义分析、性能优化、生成可执行文件等五个步骤。

⚠️：Java 和 C#是一种比较奇葩的存在，他们是半编译半解释型语言，源代码需要先转换成一种中间文件(字节码文件)，再将中间文件拿到虚拟机执行。初衷是在跨平台的同时兼顾执行效率。Java 在运行时，JVM 将目标代码解释为目标计算机的机器代码

- 解释器
  - 解释器是一种计算机程序，将每个高级程序语句转换成机器代码

⚠️：两者都是将高级语言转换成机器码，解释器在程序运行时将代码转换成机器码，编译器在程序运行之前将代码转换成机器码

- 两者比较(Java - 编译型 和 JavaScript - 解释型)

  - 工作机制：
    Java - 编译在执行之前完成
    JavaScript - 编译和执行同时进行
  - 输入:
    Java - 整个程序
    Js - 每次读取一行
  - 执行:
    Java - 程序执行与编译是分开的，只在整个输出程序编译后执行
    Js - 程序执行是解释器的一部分，逐行执行的
  - 修改
    Java - 如果修改代码，则需要修改源代码并重新编译
    Js - 直接修改就可运行
  - 错误解析
    Java - 在编译时，显示所有错误和警告。不修正错误就不能运行程序
    Js - 解释器读取一条语句并显示错误。必须纠正错误才能解释下一行
  - 性能
    Java - 编译器会事先用比较多的时间把整个程序的源代码编译成另外一种代码(中间代码、字节码)，后者往往较前者更加接近机器码，所以执行的效率会更高。时间大多消耗在预编译的过程中
    Js - 会一行行读取源代码，解释、然后立即执行。中间往往使用相对简单的词法、语法分析，压缩解释的时间，最后生成机器码。
  - 中间代码或目标代码
    Java - 在编译器的情况下生成中间代码或目标代码
    Js - 解释器不会创建中间代码

- 执行过程

  - 编译型 开发阶段(源代码) -> 编译阶段(可执行文件-预处理、目标代码、链接) -> 运行阶段(机器码)
  - 解释型 开发阶段(源代码) -> 编译阶段(无需编译) -> 运行阶段(解释器-分析、转化、解释、执行)

  - 解释型语言在不同平台有不同的解释器，源代码跨平台的目的实现了，开发人员不用再考虑每个平台如何去编译，只需要关注代码的编写
  - 例如，Linux 系统执行 Python(解释型)源代码时支持 fork()函数，而 window 系统不支持这个函数，将运行在 Linux 系统中的云代码移植到 windows 系统中，这时就需要进行修改

## 跨平台概念

- 跨平台的概念，平台可以理解为不同 CPU 架构（例如 X86、ARM 等）的机器和同种 CPU 但不同的操作系统（例如 Unix、Windows 等）的机器。

## JIT 即时编译器

- 将重复的内容如果翻译一次之后，就将其保存，再碰到相同的内容就直接使用保存的翻译结果
- JIT 即时编译器比较典型的例子是在 JVM(Java 虚拟机中)

## chrome v8 引擎

- v8 是由 Google 开发的开源 JavaScript 引擎，也被称为虚拟机，模拟计算机各种功能实现代码的编译和执行

- 为什么需要 JavaScript 引擎。
  - 在写 js 代码直接交给浏览器或者 node 执行时，底层的 CPU 时不认识的，也无法执行。CPU 只认识自己的指令集，指令集对应的汇编代码。并且不同类型的 CPU 的指令集时不一样的，意味着需要给每一种 CPU 重写汇编代码

参考资料 - http://c.biancheng.net/view/4136.html

浏览器是如何工作的 ？https://segmentfault.com/a/1190000037435824
